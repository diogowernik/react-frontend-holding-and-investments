(this.webpackJsonpminhaholding_frontend_v1=this.webpackJsonpminhaholding_frontend_v1||[]).push([[0],{69:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);n(63),n(64);var c=n(0),r=n.n(c),a=n(18),s=n.n(a),i=(n(69),n(23)),o=n(7),j=n(44),l=n(14),d=n.n(l),b=n(21),h=n(9);function u(e,t){var n=t.data,c=void 0===n?null:n,r=t.token,a=void 0===r?null:r,s=t.method,i=void 0===s?"GET":s;return fetch("https://api.minhaholding.com"+e,{method:i,headers:{Authorization:a?"Token ".concat(a):"","Content-Type":"application/json"},body:"GET"!==i&&"DELETE"!==i?JSON.stringify(c):null}).then((function(e){return e.ok?"DELETE"===i||e.json():e.json().then((function(t){if(400===e.status){var n=Object.keys(t).map((function(e){return"".concat(t[e].join(" "))}));throw new Error(n.join(" "))}throw new Error(JSON.stringify(t))})).catch((function(e){throw new Error(e)}))})).catch((function(e){Object(j.b)(e.message,{type:"error"})}))}function O(e,t){return u("/auth/token/login/",{data:{username:e,password:t},method:"POST"})}function x(e,t){return u("/auth/users/",{data:{username:e,password:t},method:"POST"})}var f=n(1),p=Object(c.createContext)(),g=function(e){var t=e.children,n=Object(c.useState)(localStorage.getItem("token")),r=Object(h.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),o=Object(h.a)(i,2),j=o[0],l=o[1],u={token:a,loading:j,signIn:function(){var e=Object(b.a)(d.a.mark((function e(t,n,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,O(t,n);case 3:(r=e.sent)&&r.auth_token&&(localStorage.setItem("token",r.auth_token),s(r.auth_token),c()),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),signOut:function(){localStorage.removeItem("token"),s("")},register:function(){var e=Object(b.a)(d.a.mark((function e(t,n,c){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,x(t,n);case 3:(r=e.sent)&&r.id&&c(),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}()};return Object(f.jsx)(p.Provider,{value:u,children:t})},m=p,v=n(28),k=n(62);var y,N=function(e){var t=e.children,n=Object(k.a)(e,["children"]),r=Object(c.useContext)(m);return Object(f.jsx)(o.b,Object(v.a)(Object(v.a)({},n),{},{render:function(e){var n=e.location;return r.token?t:Object(f.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))},C=n(85),w=n(86),S=n(87),E=n(54),P=n(88),L=n(89),I=n(95),G=n(94),T=function(e){var t=e.children,n=Object(o.g)(),r=Object(c.useContext)(m);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(I.a,{bg:"light",variant:"light",className:"mb-4",children:[Object(f.jsx)(I.a.Brand,{href:"/",children:"Minha Holding"}),Object(f.jsx)(G.a,{className:"flex-grow-1",children:Object(f.jsx)(G.a.Link,{onClick:function(){n.push("/portfolios")},children:"Portfolios"})}),Object(f.jsx)(G.a,{className:"flex-grow-1 justify-content-end",children:r.token?Object(f.jsx)(G.a.Link,{onClick:function(){r.signOut(),n.push("/login")},children:"Logout"}):[Object(f.jsx)(G.a.Link,{onClick:function(){n.replace("/login")},children:"Login"},1),Object(f.jsx)(G.a.Link,{onClick:function(){n.replace("/register")},children:"Register"},2)]})]}),Object(f.jsx)(f.Fragment,{children:t})]})},B=function(){return Object(f.jsx)(T,{children:Object(f.jsx)(C.a,{className:"bg-light",children:Object(f.jsx)(w.a,{children:Object(f.jsxs)(S.a,{children:[Object(f.jsxs)(E.a,{md:6,className:"my-auto",children:[Object(f.jsx)("h1",{children:Object(f.jsx)("b",{children:"Minha Holding"})}),Object(f.jsx)("h5",{className:"mt-4 mb-4",children:"Uma forma inteligente de gerenciar seus investimentos e tomar decis\xf5es"}),Object(f.jsx)("br",{}),Object(f.jsx)(P.a,{href:"/portfolios",variant:"standard",size:"lg",children:"Gerenciar seus Investimentos"})]}),Object(f.jsx)(E.a,{md:6,children:Object(f.jsx)(L.a,{src:"https://assets.materialup.com/uploads/07425fae-0559-42d9-ad91-29a914fcbfb9/preview.gif",rounded:!0,fluid:!0})})]})})})})},D=n(97),R=n(93),H=n(90),_=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(h.a)(a,2),i=s[0],j=s[1],l=Object(o.g)(),d=Object(c.useContext)(m);Object(c.useEffect)((function(){d.token&&l.replace("/portfolios")}));return Object(f.jsx)(T,{children:Object(f.jsx)(S.a,{className:"justify-content-center",children:Object(f.jsx)(E.a,{lg:6,md:8,children:Object(f.jsx)(D.a,{children:Object(f.jsxs)(D.a.Body,{children:[Object(f.jsx)("h3",{className:"text-center",children:Object(f.jsx)("b",{children:"LOGIN"})}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Username"}),Object(f.jsx)(R.a.Control,{type:"text",placeholder:"Enter Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Password"}),Object(f.jsx)(R.a.Control,{type:"password",placeholder:"Enter Password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(f.jsx)(P.a,{variant:"standard",block:!0,onClick:function(){d.signIn(n,i,(function(){return l.replace("/portfolios")}))},disabled:d.loading,children:d.loading?Object(f.jsx)(H.a,{variant:"standard",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Sign In"})]})})})})})},z=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(h.a)(a,2),i=s[0],j=s[1],l=Object(o.g)(),d=Object(c.useContext)(m);Object(c.useEffect)((function(){d.token&&l.replace("/portfolios")}));return Object(f.jsx)(T,{children:Object(f.jsx)(S.a,{className:"justify-content-center",children:Object(f.jsx)(E.a,{lg:6,md:8,children:Object(f.jsx)(D.a,{children:Object(f.jsxs)(D.a.Body,{children:[Object(f.jsx)("h3",{className:"text-center",children:Object(f.jsx)("b",{children:"REGISTER"})}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Username"}),Object(f.jsx)(R.a.Control,{type:"text",placeholder:"Enter Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Password"}),Object(f.jsx)(R.a.Control,{type:"password",placeholder:"Enter Password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(f.jsx)(P.a,{variant:"standard",block:!0,onClick:function(){d.register(n,i,(function(){return l.replace("/portfolios")}))},disabled:d.loading,children:d.loading?Object(f.jsx)(H.a,{variant:"standard",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Register"})]})})})})})},A=n(34),F=n(92),K=n(35),U=n(60),$=K.a.div(y||(y=Object(A.a)(["\n  border: 1px dashed #ced4d9;\n  border-radius: 5px;\n  color: #6c757d;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 142px;\n  img {\n    height: 140px;\n  }\n"])));var J,M,q=function(e){var t=e.value,n=e.onChange,r=Object(c.useState)(!1),a=Object(h.a)(r,2),s=a[0],i=a[1],o=Object(c.useCallback)((function(e){console.log(e),i(!0),function(e){var t=new FormData;return t.append("file",e),t.append("upload_preset","minhaholding_photos"),fetch("https://api.cloudinary.com/v1_1/minhaholding/image/upload",{method:"POST",body:t}).then((function(e){return e.json()}))}(e[0]).then((function(e){return n(e.url)})).finally((function(){return i(!1)}))}),[]),j=Object(U.a)({onDrop:o,multiple:!1,accept:"image/*"}),l=j.getRootProps,d=j.getInputProps;return Object(f.jsxs)($,Object(v.a)(Object(v.a)({},l()),{},{children:[Object(f.jsx)("input",Object(v.a)({},d())),t?Object(f.jsx)("img",{src:t}):s?Object(f.jsx)(H.a,{variant:"standard",animation:"border",role:"staus"}):Object(f.jsx)("span",{children:"Drag & drop file here, or click to select file"})]}))},Q=function(e){var t=e.onDone,n=Object(c.useState)(""),r=Object(h.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),j=o[0],l=o[1],O=Object(c.useContext)(m),x=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n={name:a,image:j},c=O.token,u("/api/portfolios/",{data:n,token:c,method:"POST"});case 2:e.sent&&(s(""),l(""),t());case 4:case"end":return e.stop()}var n,c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{className:"text-center",children:"Portfolio"}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Name"}),Object(f.jsx)(R.a.Control,{type:"text",placeholder:"Enter Name",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Image"}),Object(f.jsx)(q,{value:j,onChange:l})]}),Object(f.jsx)(P.a,{variant:"standard",block:!0,onClick:x,children:"Add"})]})},V=K.a.div(J||(J=Object(A.a)(["\n  margin-bottom: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n  :hover {\n    transform: scale(1.05);\n  }\n  > div {\n    background-size: cover;\n    height: 200px;\n    border-radius: 5px;\n  }\n  > p {\n    margin-top: 5px;\n    font-size: 20px;\n    font-weight: bold;\n  }\n"]))),W=K.a.div(M||(M=Object(A.a)(["\n  border: 1px dashed gray;\n  height: 200px;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n  background-color: white;\n  :hover {\n    background-color: #fbfbfb;\n  }\n"]))),X=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(h.a)(a,2),i=s[0],j=s[1],l=Object(c.useContext)(m),O=Object(o.g)(),x=function(){return j(!1)},p=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/api/portfolios/",{token:l.token});case 2:(t=e.sent)&&r(t);case 4:case"end":return e.stop()}}),e)}))),[l.token]);Object(c.useEffect)((function(){p()}),[p]);return Object(f.jsx)(T,{children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)("h3",{children:"Meus Portfolios"}),Object(f.jsx)(F.a,{show:i,onHide:x,centered:!0,children:Object(f.jsx)(F.a.Body,{children:Object(f.jsx)(Q,{onDone:function(){p(),x()}})})}),Object(f.jsxs)(S.a,{children:[n.map((function(e){return Object(f.jsx)(E.a,{lg:4,children:Object(f.jsxs)(V,{onClick:function(){return O.push("/portfolios/".concat(e.id))},children:[Object(f.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")}}),Object(f.jsx)("p",{children:e.name})]})},e.id)})),Object(f.jsx)(E.a,{lg:4,children:Object(f.jsx)(W,{onClick:function(){return j(!0)},children:"Criar novo Portfolio"})})]})]})})},Y=n(61),Z=n(96),ee=n(91),te=function(){return Object(f.jsxs)(S.a,{children:[Object(f.jsx)(E.a,{lg:6,children:Object(f.jsxs)(D.a,{color:"gray",className:"mb-3",children:[Object(f.jsx)(D.a.Header,{className:"bg-gray-lighter",children:"Dashboard"}),Object(f.jsx)(D.a.Body,{children:"Gr\xe1fico 1"})]})}),Object(f.jsx)(E.a,{lg:6,children:Object(f.jsxs)(D.a,{color:"gray",className:"mb-3",children:[Object(f.jsx)(D.a.Header,{className:"bg-gray-lighter",children:"Dashboard"}),Object(f.jsx)(D.a.Body,{children:"Gr\xe1fico 1"})]})}),Object(f.jsx)(E.a,{lg:12,children:Object(f.jsxs)(D.a,{color:"gray",className:"mb-3",children:[Object(f.jsx)(D.a.Header,{className:"bg-gray-lighter",children:"Dashboard"}),Object(f.jsx)(D.a.Body,{children:"Gr\xe1fico 1"})]})})]})},ne=function(){return Object(f.jsx)(S.a,{children:Object(f.jsx)(E.a,{lg:12,children:Object(f.jsxs)(D.a,{color:"gray",className:"mb-3",children:[Object(f.jsx)(D.a.Header,{className:"bg-gray-lighter",children:"Fiis"}),Object(f.jsx)(D.a.Body,{children:"Table"})]})})})},ce=function(){var e=Object(c.useState)({}),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useContext)(m),s=Object(o.h)(),i=Object(o.g)(),j=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=s.id,c=a.token,u("/api/portfolios/".concat(n),{token:c});case 2:(t=e.sent)&&r(t);case 4:case"end":return e.stop()}var n,c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()}),[]),Object(f.jsx)(T,{children:Object(f.jsx)(w.a,{fluid:!0,children:Object(f.jsxs)(S.a,{children:[Object(f.jsx)(E.a,{lg:3,children:Object(f.jsx)(D.a,{className:"mb-3",children:Object(f.jsxs)(D.a.Header,{children:[Object(f.jsx)(P.a,{variant:"link",onClick:function(){return i.push("/portfolios")},className:"float-left",children:Object(f.jsx)(Y.a,{size:25,color:"black"})}),Object(f.jsx)("h3",{className:"mb-0 ml-2 mr-2 text-center",children:n.name})]})})}),Object(f.jsxs)(Z.a.Container,{defaultActiveKey:"dashboard",children:[Object(f.jsx)(E.a,{lg:9,children:Object(f.jsx)(D.a,{className:" mb-3",children:Object(f.jsx)(D.a.Header,{children:Object(f.jsxs)(G.a,{variant:"pills",children:[Object(f.jsx)(G.a.Item,{children:Object(f.jsx)(G.a.Link,{eventKey:"dashboard",children:"Dashboard"})}),Object(f.jsx)(G.a.Item,{children:Object(f.jsx)(G.a.Link,{eventKey:"fiis",children:"Fiis"})})]})})})}),Object(f.jsx)(E.a,{lg:3,children:Object(f.jsxs)(D.a,{color:"gray",className:"mb-3",children:[Object(f.jsx)(D.a.Header,{className:"bg-gray-lighter",children:"Performance"}),Object(f.jsxs)(D.a.Body,{children:[Object(f.jsx)("p",{className:"text-center h3 m-3 text-primary",children:"5,35 %"}),Object(f.jsx)("p",{className:"text-center text-muted m-3",children:"Rentabilidade do porf\xf3lio Atual"})]}),Object(f.jsx)(D.a.Body,{children:Object(f.jsx)(ee.a,{responsive:!0,children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Patrim\xf4nio"}),Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"float-right strong",children:"R$ 535.000"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Custo de aquisi\xe7\xe3o"}),Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"float-right strong",children:"R$ 500.000"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Proventos Acumulado"}),Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"float-right strong",children:"R$ 20.000"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Lucros com opera\xe7\xf5es"}),Object(f.jsx)("td",{children:Object(f.jsx)("div",{className:"float-right strong",children:"R$ 15.000"})})]}),Object(f.jsxs)("tr",{className:"mt-1",children:[Object(f.jsx)("th",{children:Object(f.jsx)("div",{className:"mt-2 strong",children:"Lucro"})}),Object(f.jsx)("th",{children:Object(f.jsx)("div",{className:"float-right h5 text-primary",children:"R$ 35.000"})})]})]})})})]})}),Object(f.jsx)(E.a,{lg:9,children:Object(f.jsxs)(Z.a.Content,{children:[Object(f.jsx)(Z.a.Pane,{eventKey:"dashboard",children:Object(f.jsx)(te,{})}),Object(f.jsx)(Z.a.Pane,{eventKey:"fiis",children:Object(f.jsx)(ne,{})})]})})]})]})})})};var re=function(){return Object(f.jsxs)(g,{children:[Object(f.jsx)(i.a,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{exact:!0,path:"/",children:Object(f.jsx)(B,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/login",children:Object(f.jsx)(_,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/register",children:Object(f.jsx)(z,{})}),Object(f.jsx)(N,{exact:!0,path:"/portfolios/:id",children:Object(f.jsx)(ce,{})}),Object(f.jsx)(N,{exact:!0,path:"/portfolios",children:Object(f.jsx)(X,{})})]})}),Object(f.jsx)(j.a,{})]})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(re,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.1a2fe90c.chunk.js.map